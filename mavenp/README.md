# maven 私服

这个纯属搞笑的 😆

讲故事一样的写文档

## 一、这个需求怎么来的呢？

我身处于两个网络环境中：

- 能访问百度的互联网环境，下文中描述为【外网】
- 与世隔绝的局域网环境，下文中描述为【内网】

我要在【外网】中使用maven编写java代码，然后把代码放在【内网】中使用maven打包。

产生了一个问题：【外网】maven中的依赖jar包，如何在【内网】mavne中使用？

## 二、解决方案

【外网】maven中的依赖jar包，获取方式，可参考 `test` 目录中的 `org.example.DependencyCopyer`

### 2.1 离线maven方案

#### 2.1.1 方案过程

- 【外网】maven中的依赖jar包，用U盘放入【内网】个人mavne的仓库目录中
- 设置【内网】个人mavne的setting文件，配置要求
  - 【内网】个人mavne的的镜像id要与【外网】maven的的镜像id保持一致
  - 【内网】个人mavne仓库设置镜像，镜像地址指向本地仓库位置
- idea设置offlin模式
- java项目的pom文件也要设置【内网】个人mavne本地仓库位置（我不明为啥）

这个方案具体配置网上搜索【maven离线使用】就可以查到

#### 2.1.2 方案问题

- 集体使用时，有点麻烦
  - `【内网】个人mavne的的镜像id要与【外网】maven的的镜像id保持一致`，这个实际开发时，即使大家都使用【阿里云maven私服】，也不能保证大家配置镜像id时都一致。
- 还要看看你的ide怎么设置，开启离线模式，实际应该是执行 `mvn -o xxxx`
  - idea设置offlin模式
  - eclipse，我不用，我也没查
- 配置有点多
  - 我不明白为啥 `java项目的pom文件也要设置【内网】个人mavne本地仓库位置`

### 2.2 我写了个不健全的私服

就是为了搞笑 😆

- 【外网】maven中的依赖jar包，用U盘放入【内网】不健全的私服的仓库目录中
- 设置【内网】个人mavne的setting文件，配置要求
  - 【内网】个人mavne仓库设置镜像，镜像地址指向这个不健全的私服

### 三、不健全私服的启动

就是个spring boot web，启动就行了。
